"use strict";var e=require("fs"),i=require("glob"),r=require("path");function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var o=n(require("rimraf"));const t="build/Release";(async()=>{if("win32"==process.platform){i.glob.sync("{bin,lib}/*",{nodir:!0,cwd:t}).map((e=>r.join(t,e))).forEach((i=>{const n=(i=>{try{return e.readlinkSync(i),"link"}catch(r){const n=e.statSync(i);return n.isFile()?"file":n.isDirectory()?"dir":void 0}})(i);console.log(`typeof ${i} => ${n}`),"dir"!=n&&e.renameSync(i,r.join(t,r.basename(i)))}));[r.join(t,"bin"),r.join(t,"lib")].forEach((e=>o.default.sync(e)))}[r.join(t,".deps"),r.join(t,"obj.target"),r.join(t,"obj")].forEach((e=>o.default.sync(e)))})();
